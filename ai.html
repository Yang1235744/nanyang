<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>南阳数码智能AI</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Microsoft YaHei",sans-serif;}

body{
  background:url(https://picsum.photos/id/1036/1920/1080) no-repeat center center fixed;
  background-size:cover;
  position:relative;
  min-height:100vh;
  color:#fff;
}
body::before{
  content:"";
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,0.7);
  z-index:-1;
}

.nav{position:fixed;top:0;left:0;width:100%;padding:15px 30px;background:rgba(0,0,0,0.9);display:flex;justify-content:space-between;align-items:center;z-index:999;}
.nav .logo{font-size:22px;font-weight:bold;color:#00bcd4;}
.nav .menu a{color:#ccc;text-decoration:none;margin-left:25px;font-size:16px;}
.nav .menu a:hover{color:#00bcd4;}

.chat-container{width:100%;max-width:900px;margin:90px auto 0;padding:20px;display:flex;flex-direction:column;height:calc(100vh - 90px);}
.chat-messages{flex:1;overflow-y:auto;margin-bottom:20px;padding-right:10px;}
.message{margin-bottom:15px;display:flex;}
.message.user{justify-content:flex-end;}
.message.ai{justify-content:flex-start;}
.message-content{max-width:75%;padding:12px 18px;border-radius:18px;line-height:1.6;}
.message.user .message-content{background:#007bff;border-bottom-right-radius:4px;}
.message.ai .message-content{background:#1a1a1a;border:1px solid #333;border-bottom-left-radius:4px;}

.input-container{display:flex;gap:10px;}
#user-input{flex:1;padding:14px 20px;border-radius:25px;border:none;background:rgba(255,255,255,0.1);color:#fff;font-size:16px;outline:none;}
#send-btn{padding:14px 24px;border-radius:25px;border:none;background:#00bcd4;color:#fff;font-weight:bold;cursor:pointer;}

.typing-indicator{display:none;padding:12px 18px;background:#1a1a1a;border-radius:18px;}
.typing-indicator span{display:inline-block;width:8px;height:8px;border-radius:50%;background:#00bcd4;margin:0 2px;animation:typing 1.4s infinite;}
.typing-indicator span:nth-child(2){animation-delay:0.2s;}
.typing-indicator span:nth-child(3){animation-delay:0.4s;}
@keyframes typing{0%,60%,100%{transform:translateY(0);opacity:0.7;}30%{transform:translateY(-6px);opacity:1;}}
</style>
</head>
<body>

<div class="nav">
  <div class="logo">南阳数码工作室</div>
  <div class="menu">
    <a href="index.html">首页</a>
    <a href="about.html">关于我们</a>
    <a href="ai.html">AI助手</a>
  </div>
</div>

<div class="chat-container">
  <div class="chat-messages" id="chat-messages">
    <div class="message ai">
      <div class="message-content">你好！我是南阳数码AI，已完全内置在网页中～</div>
    </div>
  </div>
  <div class="typing-indicator" id="typing-indicator">
    <span></span><span></span><span></span>
  </div>
  <div class="input-container">
    <input type="text" id="user-input" placeholder="输入你的问题..." autocomplete="off">
    <button id="send-btn">发送</button>
  </div>
</div>

<script>
// ====================== AI 核心逻辑直接写在页面底层 ======================
// 不需要后台！不需要Python！不需要服务器！
const DOWNLOAD_URL = "请到南洋数码工作室官网下载库获取所有资源";

const knowledge_base = {
  "装机": [
    "装机注意CPU与主板兼容，内存插紧，散热器涂硅脂，电源线插满。",
    `系统镜像、PE工具、驱动请到官网下载库：${DOWNLOAD_URL}`
  ],
  "装系统": [
    "用8G以上U盘做启动盘，新电脑用UEFI+GPT，装纯净版系统。",
    `纯净系统镜像下载：${DOWNLOAD_URL}`
  ],
  "驱动": [
    "驱动异常会导致没声音、没网、蓝屏、花屏，优先装官方驱动。",
    `万能网卡驱动、驱动合集：${DOWNLOAD_URL}`
  ],
  "蓝屏": [
    "蓝屏常见原因：驱动冲突、内存不稳、硬盘坏道、温度高。",
    `纯净系统可减少蓝屏：${DOWNLOAD_URL}`
  ],
  "卡顿": [
    "卡顿优先换固态、清C盘、关自启、装纯净系统。",
    `纯净系统下载：${DOWNLOAD_URL}`
  ],
  "网络": [
    "上不了网先查驱动、网线、路由器，DNS可设223.5.5.5。",
    `万能网卡驱动：${DOWNLOAD_URL}`
  ],
  "黑屏": [
    "黑屏先重插内存，独显要接显卡，别接主板。",
    `系统修复工具：${DOWNLOAD_URL}`
  ],
  "没声音": [
    "没声音先查音量和驱动，台式机前面板需禁用检测。",
    `声卡驱动：${DOWNLOAD_URL}`
  ],
  "密码": [
    "忘记密码用PE清除，不删文件。",
    `PE工具箱：${DOWNLOAD_URL}`
  ]
};

const greetings = ["你好","您好","嗨","哈喽","在吗","在不在","在","喂","哎","你好啊","您好啊","有人吗","在呢"];
const greet_replies = [
  "你好呀！有什么电脑问题可以问我～",
  "您好！我是南阳数码助手，随时为您服务。",
  "哈喽！我在呢，你说～",
  "你好！需要修电脑、装系统都可以告诉我。",
  "嗨！有什么可以帮你的吗？"
];
const default_replies = [
  "我没太明白你的意思，可以说具体一点哦。",
  "你可以问我电脑相关的问题，比如蓝屏、卡顿、装系统～",
  "这个我暂时不太清楚，换个问题试试吧。",
  "你说的我没听懂，再说清楚一点呗。"
];

const keywords = {
  "装机": ["装机", "组装", "装电脑"],
  "装系统": ["装系统", "重装", "镜像"],
  "驱动": ["驱动", "显卡驱动", "声卡驱动", "网卡驱动"],
  "蓝屏": ["蓝屏", "崩溃"],
  "卡顿": ["卡", "卡顿", "慢"],
  "网络": ["网", "上网", "wifi", "网线"],
  "黑屏": ["黑屏", "没信号"],
  "没声音": ["声音", "没声音"],
  "密码": ["密码", "忘记密码"]
};

function getReply(msg) {
  msg = msg.trim().toLowerCase();
  for (let g of greetings) {
    if (msg.includes(g)) {
      return greet_replies[Math.floor(Math.random() * greet_replies.length)];
    }
  }
  for (let key in keywords) {
    for (let kw of keywords[key]) {
      if (msg.includes(kw)) {
        let arr = knowledge_base[key];
        return arr[Math.floor(Math.random() * arr.length)];
      }
    }
  }
  return default_replies[Math.floor(Math.random() * default_replies.length)];
}

// ====================== 聊天界面 ======================
const chat = document.getElementById('chat-messages');
const input = document.getElementById('user-input');
const btn = document.getElementById('send-btn');
const typing = document.getElementById('typing-indicator');

function addMsg(text, isUser) {
  const div = document.createElement('div');
  div.className = `message ${isUser ? 'user' : 'ai'}`;
  const c = document.createElement('div');
  c.className = 'message-content';
  c.innerText = text;
  div.appendChild(c);
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function send() {
  const text = input.value.trim();
  if (!text) return;
  addMsg(text, true);
  input.value = '';
  typing.style.display = 'block';

  setTimeout(() => {
    const reply = getReply(text);
    typing.style.display = 'none';
    addMsg(reply, false);
  }, 800);
}

btn.onclick = send;
input.onkeypress = e => e.key === 'Enter' && send();
</script>
</body>
</html>
